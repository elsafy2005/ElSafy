<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>El Safy Store | Game Top-Up</title>
<meta name="description" content="Elsafy Store - Ø£Ø³Ø±Ø¹ ÙˆØ£Ø£Ù…Ù† Ù…ÙˆÙ‚Ø¹ Ù„Ø´Ø­Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø²ÙŠ PUBG, Free Fire, Mobile Legends Ùˆ 8 Ball Pool. Ø´Ø­Ù† Ù…Ø¶Ù…ÙˆÙ† ÙˆÙÙˆØ±ÙŠ Ø¨Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø±.">
<meta name="keywords" content="Elsafy Store, Ø´Ø­Ù† Ø£Ù„Ø¹Ø§Ø¨, PUBG UC, Free Fire, Mobile Legends, 8 Ball Pool, Game Top-Up">
<meta name="author" content="Elsafy Store">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<!-- Ø§Ù„Ø®Ø· Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ -->
<link href="https://fonts.googleapis.com/css2?family=Bitcount+Grid+Double:wght@300&display=swap" rel="stylesheet">

<!-- Ø§Ù„Ø®Ø· Ø§Ù„Ø¹Ø±Ø¨ÙŠ -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="pubg.css" />
  <link rel="icon" type="image/png" href="images/logo.png">
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LS3Z6JTV3W"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-LS3Z6JTV3W');
</script>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-analytics.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";


const analytics = getAnalytics(app);
const provider = new GoogleAuthProvider();

document.addEventListener("DOMContentLoaded", () => {
  const loginBtn = document.getElementById("loginLink");
  const userName = document.getElementById("userName");
  const userPhoto = document.getElementById("userPhoto");
  let logoutBtn = document.getElementById("logoutBtn");

  if(!logoutBtn) {
    logoutBtn = document.createElement("a");
    logoutBtn.href = "#";
    logoutBtn.id = "logoutBtn";
    logoutBtn.innerText = "Logout";
    loginBtn.parentNode.appendChild(logoutBtn);
    logoutBtn.style.display = "none";
    logoutBtn.style.marginLeft = "10px";
  }

  onAuthStateChanged(auth, (user) => {
    if (user) {
      userName.innerText = user.displayName;
      userPhoto.src = user.photoURL || "images/img_avatar.png"; // ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ù„Ùˆ Ù…ÙÙŠØ´
      loginBtn.style.display = "none";
      logoutBtn.style.display = "inline-block";
    } else {
      userName.innerText = "";
      userPhoto.src = "images/img_avatar.png"; // ØµÙˆØ±Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
      loginBtn.style.display = "inline-block";
      logoutBtn.style.display = "none";
    }
  });

  loginBtn.addEventListener("click", (e) => {
    e.preventDefault();
    signInWithPopup(auth, provider)
      .then((result) => {
        window.location.href = "user-dashboard.html";
      })
      .catch((error) => {
        console.error("Login Error:", error);
        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
      });
  });

  logoutBtn.addEventListener("click", (e) => {
    e.preventDefault();
    signOut(auth).then(() => {
      window.location.href = "index.html";
    });
  });
});
</script>

</head>
<body>
  <div id="loading">
    <div class="loader">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </div>
  <!-- HEADER -->
  <div class="header">
    <img class="logo" src="images/logo.png" alt="Logo" />
    <div class="header-links">
      <a href="index.html">Home</a>
      <a href="Contact.HTML">Contact</a>
      <a href="About.html">About</a>
      <img id="userPhoto" src="images/img_avatar.png" alt="User" style="width:40px; height:40px; border-radius:50%; margin-left:10px;">
<span id="userName"></span>
    </div>
  </div>
  <div class="delivery-note">
  âš¡ Shipping takes from 2 minutes to 2 hours!
</div>


  <div class="container">
    <h1>ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙƒÙ…ÙŠØ©</h1>

<div class="packages">
  <div class="package-card" onclick="selectPackage('60 UC', this)">
    <img src="images/uc.png" alt="60 UC">
    <h3>60 UC</h3>
    <p>55 Ø¬Ù†ÙŠÙ‡</p>
  </div>

  <div class="package-card" onclick="selectPackage('325 UC', this)">
    <img src="images/uc.png" alt="325 UC">
    <h3>325 UC</h3>
    <p>260 Ø¬Ù†ÙŠÙ‡</p>
  </div>

  <div class="package-card" onclick="selectPackage('660 UC', this)">
    <img src="images/uc.png" alt="660 UC">
    <h3>660 UC</h3>
    <p>465 Ø¬Ù†ÙŠÙ‡</p>
  </div>

  <div class="package-card" onclick="selectPackage('1800 UC', this)">
    <img src="images/uc.png" alt="1800 UC">
    <h3>1800 UC</h3>
    <p>1200 Ø¬Ù†ÙŠÙ‡</p>
  </div>

  <div class="package-card" onclick="selectPackage('3850 UC', this)">
    <img src="images/uc.png" alt="3850 UC">
    <h3>3850 UC</h3>
    <p>2250 Ø¬Ù†ÙŠÙ‡</p>
  </div>

  <div class="package-card" onclick="selectPackage('8100 UC', this)">
    <img src="images/uc.png" alt="8100 UC">
    <h3>8100 UC</h3>
    <p>4400 Ø¬Ù†ÙŠÙ‡</p>
  </div>

  <div class="package-card" onclick="selectPackage('16200 UC', this)">
    <img src="images/uc.png" alt="16200 UC">
    <h3>16200 UC</h3>
    <p>8700 Ø¬Ù†ÙŠÙ‡</p>
  </div>
</div>


 <div id="transferForm" class="hidden">
  <h2>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ­ÙˆÙŠÙ„</h2>
  <p>Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ:</p>
  <div class="transfer-info">
    <img src="images/cash.png" alt="Vodafone Cash" class="vodafone-logo">
    <span class="transfer-number">01060842931</span>
  </div>



<form id="orderForm">
  <label for="sender-number">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø°ÙŠ ØªÙ… Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù…Ù†Ù‡:</label>
  <input
  type="text"
  id="sender-number"
  name="sender_number"
  required
  inputmode="numeric"
  pattern="[0-9]*"
  oninput="this.value = this.value.replace(/[^0-9]/g, '')"
  placeholder="Ø§Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø±Ø³Ù„ Ù…Ù†Ù‡"
/>


  <label for="pubg-id">ID PUBG:</label>
<input
  type="text"
  id="pubg-id"
  name="pubg_id"
  required
  inputmode="numeric"
  pattern="[0-9]*"
  oninput="this.value = this.value.replace(/[^0-9]/g, '')"
  placeholder="Ù…Ø«Ù„Ø§Ù‹: 5221122334"
/>


  <input type="hidden" id="package-name" name="package_name" />

  <button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
</form>

    </div>
  </div>


<script>
const SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyWL-9s-EV8PthAzGc81IHNFaOZ2uy7VjEezxCkf_vwOxAY22ISPzItqn71bgBqH7fTng/exec";
const GAME_NAME = "Pubg Mobile"; // Ø«Ø§Ø¨Øª Ø­Ø³Ø¨ Ù…ÙˆÙ‚Ø¹Ùƒ

let selectedPackage = '';

function selectPackage(packageName, element) {
  selectedPackage = packageName;
  document.getElementById("package-name").value = packageName;
  document.getElementById('transferForm').classList.remove('hidden');
  window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });

  // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ£Ø«ÙŠØ± Ù…Ù† ÙƒÙ„ Ø§Ù„ÙƒØ±ÙˆØª
  document.querySelectorAll('.package-card').forEach(card => {
    card.classList.remove('selected');
    let check = card.querySelector('.checkmark');
    if(check) check.remove();
  });

  // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø§Ù„ÙƒØ±Øª Ø§Ù„Ù…Ø®ØªØ§Ø± ÙˆØ¹Ù„Ø§Ù…Ø© âœ…
  element.classList.add('selected');
  let checkmark = document.createElement('span');
  checkmark.className = 'checkmark';
  checkmark.innerText = 'âœ…';
  element.appendChild(checkmark);
}

// Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙÙˆØ±Ù…
document.getElementById("orderForm").addEventListener("submit", function(e){
  e.preventDefault();

  if(selectedPackage === '') {
    alert("âŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø§Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹");
    return;
  }

  const submitButton = this.querySelector("button[type='submit']");
  submitButton.disabled = true; 
  submitButton.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

  const formData = new FormData();
  formData.append("phone", document.getElementById("sender-number").value);
  formData.append("pubg_id", document.getElementById("pubg-id").value);
  formData.append("package", selectedPackage);
  formData.append("game", GAME_NAME);

  fetch(SCRIPT_URL, {
    method: "POST",
    body: formData
  })
  .then(() => {
    // Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù…Ø¨Ø§Ø´Ø±Ø© Ù†Ø±ÙˆØ­ Ù„ØµÙØ­Ø© Ø§Ù„Ø´ÙƒØ±
    window.location.href = "thanks.html";
  })
  .catch(err => {
    alert("âŒ Ø­ØµÙ„ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„");
    console.error("Error:", err);
    submitButton.disabled = false;
    submitButton.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
  });
});
</script>






  <script>
    window.addEventListener("load", () => {
      setTimeout(() => {
        document.getElementById("loading").classList.add("hidden");
      }, 1400); // Ø«Ø§Ù†ÙŠØ© Ùˆ7 Ø£Ø¹Ø´Ø§Ø±
    });
  </script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";
  import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_PROJECT.firebaseapp.com",
    projectId: "YOUR_PROJECT_ID",
    storageBucket: "YOUR_PROJECT.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);


  function selectPackage(packageName, element) {
    selectedPackage = packageName;
    document.getElementById("package-name").value = packageName;
    document.getElementById('transferForm').classList.remove('hidden');
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
  }
  window.selectPackage = selectPackage;

  document.getElementById("orderForm").addEventListener("submit", async function (e) {
    e.preventDefault();

    if (selectedPackage === '') {
      alert("âŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø¨Ø§Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹");
      return;
    }

    const submitButton = e.target.querySelector("button[type='submit']");
    submitButton.disabled = true;
    submitButton.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

    // Ù†Ø´ÙˆÙ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
    const user = auth.currentUser;

    if (!user) {
      alert("âš ï¸ Ù„Ø§Ø²Ù… ØªØ³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø£ÙˆÙ„ Ù‚Ø¨Ù„ Ø¹Ù…Ù„ Ø·Ù„Ø¨");
      submitButton.disabled = false;
      submitButton.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
      return; // Ù‡Ù†Ø§ ÙˆÙ‚ÙÙ†Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙˆÙ…Ø´ Ù‡ÙŠØ±ÙˆØ­ Ù„ØµÙØ­Ø© Ø§Ù„Ø´ÙƒØ±
    }

    try {
      await addDoc(collection(db, "orders"), {
        userId: user.uid,
        game: GAME_NAME,
        package: selectedPackage,
        phone: document.getElementById("sender-number").value,
        pubg_id: document.getElementById("pubg-id").value,
        createdAt: serverTimestamp()
      });

      window.location.href = "thanks.html";
    } catch (error) {
      alert("âŒ Ø­ØµÙ„ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨");
      console.error("Error:", error);
      submitButton.disabled = false;
      submitButton.innerText = "Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨";
    }
  });
</script>



  <footer class="site-footer">
  <div class="footer-content">
    <p>Â© 2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© - <span> El Safy Store </span> ğŸ’™</p>
  </div>
</footer>
</body>
</html>
